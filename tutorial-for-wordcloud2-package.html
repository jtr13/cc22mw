<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 20 Tutorial for wordcloud2 package | Community Contributions for EDAV Fall 2022 Mon/Wed</title>
<meta name="description" content='Ruoyu Chen and Yitong Zhou library(devtools) #devtools::install_github("lchiffon/wordcloud2", force = TRUE) library(wordcloud2) # must be installed from source library(tidyverse)  20.1 Motivation...'>
<meta name="generator" content="bookdown 0.30 with bs4_book()">
<meta property="og:title" content="Chapter 20 Tutorial for wordcloud2 package | Community Contributions for EDAV Fall 2022 Mon/Wed">
<meta property="og:type" content="book">
<meta property="og:description" content='Ruoyu Chen and Yitong Zhou library(devtools) #devtools::install_github("lchiffon/wordcloud2", force = TRUE) library(wordcloud2) # must be installed from source library(tidyverse)  20.1 Motivation...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 20 Tutorial for wordcloud2 package | Community Contributions for EDAV Fall 2022 Mon/Wed">
<meta name="twitter:description" content='Ruoyu Chen and Yitong Zhou library(devtools) #devtools::install_github("lchiffon/wordcloud2", force = TRUE) library(wordcloud2) # must be installed from source library(tidyverse)  20.1 Motivation...'>
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-9.3.1/highcharts.js"></script><script src="libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="libs/highcharts-9.3.1/highcharts-more.js"></script><script src="libs/highcharts-9.3.1/modules/stock.js"></script><script src="libs/highcharts-9.3.1/modules/map.js"></script><script src="libs/highcharts-9.3.1/modules/data.js"></script><script src="libs/highcharts-9.3.1/modules/exporting.js"></script><script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="libs/highcharts-9.3.1/modules/item-series.js"></script><script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-9.3.1/modules/annotations.js"></script><script src="libs/highcharts-9.3.1/modules/export-data.js"></script><script src="libs/highcharts-9.3.1/modules/funnel.js"></script><script src="libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="libs/highcharts-9.3.1/modules/treemap.js"></script><script src="libs/highcharts-9.3.1/modules/sankey.js"></script><script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="libs/highcharts-9.3.1/modules/organization.js"></script><script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="libs/highcharts-9.3.1/modules/vector.js"></script><script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="libs/highcharts-9.3.1/modules/xrange.js"></script><script src="libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="libs/highcharts-9.3.1/modules/venn.js"></script><script src="libs/highcharts-9.3.1/modules/gantt.js"></script><script src="libs/highcharts-9.3.1/modules/timeline.js"></script><script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="libs/highcharts-9.3.1/modules/bullet.js"></script><script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="libs/highcharts-9.3.1/modules/series-label.js"></script><script src="libs/highcharts-9.3.1/plugins/motion.js"></script><script src="libs/highcharts-9.3.1/custom/reset.js"></script><script src="libs/highcharts-9.3.1/modules/boost.js"></script><script src="libs/highchart-binding-0.9.4/highchart.js"></script><script src="libs/plotly-binding-4.10.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script><link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="libs/dygraphs-1.1.1/shapes.js"></script><script src="libs/moment-2.8.4/moment.js"></script><script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script><script src="libs/Dygraph.Plotters.CandlestickPlotter-1.0/candlestick.js"></script><script src="libs/d3-4.13.0/d3.min.js"></script><link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
<script src="libs/profvis-0.3.6.9000/profvis.js"></script><script src="libs/profvis-0.3.6.9000/scroll.js"></script><link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet">
<script src="libs/highlight-6.2.0/highlight.js"></script><script src="libs/profvis-binding-0.3.7/profvis.js"></script><link href="libs/collapsibleTree-0.1.6/collapsibleTree.css" rel="stylesheet">
<script src="libs/collapsibleTree-binding-0.1.7/collapsibleTree.js"></script><script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script><script src="libs/d3v3-3.5.3/./d3v3.min.js"></script><link href="libs/d3heatmapcore-0.0.0/heatmapcore.css" rel="stylesheet">
<script src="libs/d3heatmapcore-0.0.0/heatmapcore.js"></script><script src="libs/d3v3-tip-0.6.6/index.js"></script><script src="libs/d3heatmap-binding-0.9.0/d3heatmap.js"></script><script src="libs/d3-tip-0.8.1/index.js"></script><link href="libs/chorddiag-0.1.2.9000/chorddiag.css" rel="stylesheet">
<script src="libs/chorddiag-0.1.2.9000/chorddiag.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Community Contributions for EDAV Fall 2022 Mon/Wed</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="community-contribution.html"><span class="header-section-number">2</span> Community Contribution</a></li>
<li><a class="" href="github-submission-instructions.html"><span class="header-section-number">3</span> GitHub submission instructions</a></li>
<li><a class="" href="sample-project.html"><span class="header-section-number">4</span> Sample project</a></li>
<li class="book-part">Cheatsheets</li>
<li><a class="" href="geographic-visualization-by-ggmap.html"><span class="header-section-number">5</span> Geographic visualization by ggmap</a></li>
<li><a class="" href="googlevis.html"><span class="header-section-number">6</span> googleVis</a></li>
<li><a class="" href="text-data-visualization-by-tidytext.html"><span class="header-section-number">7</span> Text data visualization by tidytext</a></li>
<li><a class="" href="cheatsheet-of-ggally-including-ggcoef_model-and-ggpairs.html"><span class="header-section-number">8</span> Cheatsheet of GGally (including ggcoef_model and ggpairs)</a></li>
<li><a class="" href="cheatsheet-for-data-science.html"><span class="header-section-number">9</span> Cheatsheet for data science</a></li>
<li><a class="" href="cheatsheet-for-plotly.html"><span class="header-section-number">10</span> Cheatsheet for Plotly</a></li>
<li><a class="" href="dataexplorer-cheatsheet-eda-made-easier.html"><span class="header-section-number">11</span> DataExplorer Cheatsheet, EDA made easier</a></li>
<li><a class="" href="data-visualization-with-ggplot2-r-and-matplotlib-python-cheat-sheet.html"><span class="header-section-number">12</span> Data Visualization with GGPlot2 (R) and MatPlotLib (Python) Cheat Sheet</a></li>
<li class="book-part">Tutorials</li>
<li><a class="" href="map-plots-with-highcharts.html"><span class="header-section-number">13</span> Map Plots with Highcharts</a></li>
<li><a class="" href="introduction-of-machine-learning-in-r.html"><span class="header-section-number">14</span> Introduction of machine learning in R</a></li>
<li><a class="" href="quantmod-tidyquant-tutorials-and-comparison.html"><span class="header-section-number">15</span> Quantmod &amp; Tidyquant Tutorials and Comparison</a></li>
<li><a class="" href="learning-echarts4r-with-shiny.html"><span class="header-section-number">16</span> Learning echarts4r with shiny</a></li>
<li><a class="" href="picturing-inflation-an-exercise-in-web-scraping-plotly-and-timeseries.html"><span class="header-section-number">17</span> Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries</a></li>
<li><a class="" href="introcuction-to-dygraph-for-financial-analysis.html"><span class="header-section-number">18</span> Introcuction to Dygraph for Financial Analysis</a></li>
<li><a class="" href="two-interesting-r-packages.html"><span class="header-section-number">19</span> Two Interesting R packages</a></li>
<li><a class="active" href="tutorial-for-wordcloud2-package.html"><span class="header-section-number">20</span> Tutorial for wordcloud2 package</a></li>
<li><a class="" href="effcient-r.html"><span class="header-section-number">21</span> Effcient R</a></li>
<li><a class="" href="color-vision-deficiency.html"><span class="header-section-number">22</span> Color vision deficiency</a></li>
<li><a class="" href="tutorials-for-ggfortify-and-autoplotly.html"><span class="header-section-number">23</span> Tutorials for ggfortify and autoplotly</a></li>
<li><a class="" href="becoming-a-better-business-analyst.html"><span class="header-section-number">24</span> Becoming a better business analyst</a></li>
<li><a class="" href="cheatsheet-of-ggstatsplot-in-r.html"><span class="header-section-number">25</span> Cheatsheet of ggstatsplot in R</a></li>
<li><a class="" href="best-parallel-coordinates-r-package.html"><span class="header-section-number">26</span> Best Parallel Coordinates R Package</a></li>
<li><a class="" href="hypothesis-testing-guide-in-r.html"><span class="header-section-number">27</span> Hypothesis Testing Guide in R</a></li>
<li><a class="" href="python-tutorial-gather-data-through-api-and-web-scraping.html"><span class="header-section-number">28</span> Python tutorial: gather data through API and web scraping</a></li>
<li><a class="" href="an-interactive-dashboard-covid-19-visualization-with-shiny-and-plotly.html"><span class="header-section-number">29</span> An Interactive Dashboard: COVID-19 Visualization with Shiny and Plotly</a></li>
<li><a class="" href="interactive-plots-for-different-types-of-graphs-in-r.html"><span class="header-section-number">30</span> Interactive plots for different types of graphs in R</a></li>
<li><a class="" href="introduction-to-plotly-in-r.html"><span class="header-section-number">31</span> Introduction to Plotly in R</a></li>
<li><a class="" href="machine-learning-interview-mindmap-and-commonly-asked-questions.html"><span class="header-section-number">32</span> Machine Learning Interview mindmap and commonly asked questions</a></li>
<li><a class="" href="data-visualization-with-seaborn.html"><span class="header-section-number">33</span> Data Visualization with Seaborn</a></li>
<li><a class="" href="tutorial-of-making-different-types-of-charts-interactive.html"><span class="header-section-number">34</span> Tutorial of making different types of charts interactive</a></li>
<li><a class="" href="cheatsheet-of-ggplot2-ggplot2-alluvial-heatmap.html"><span class="header-section-number">35</span> Cheatsheet of ggplot2 (ggplot2 &amp; alluvial &amp; heatmap)</a></li>
<li><a class="" href="chord-diagrams-using-circlize.html"><span class="header-section-number">36</span> Chord diagrams using circlize</a></li>
<li><a class="" href="video-guide-to-reigniting-your-creavite-spark-for-visualizations.html"><span class="header-section-number">37</span> Video guide to reigniting your creavite spark for visualizations</a></li>
<li><a class="" href="tutorial-on-machine-learning-in-r.html"><span class="header-section-number">38</span> Tutorial on Machine Learning in R</a></li>
<li><a class="" href="data-importance-visualization.html"><span class="header-section-number">39</span> Data importance &amp; visualization</a></li>
<li><a class="" href="time-series-visualization---r-tutorial.html"><span class="header-section-number">40</span> Time Series Visualization - R tutorial</a></li>
<li><a class="" href="introduction-6.html"><span class="header-section-number">41</span> Introduction</a></li>
<li><a class="" href="S3.html"><span class="header-section-number">42</span> Section 3.Time series visualization with ggplot and ggplot2</a></li>
<li><a class="" href="autocorrelation-plot.html"><span class="header-section-number">43</span> AutoCorrelation plot</a></li>
<li><a class="" href="S4.html"><span class="header-section-number">44</span> Section 4. Time series visualization with TSstudio: ts_plot</a></li>
<li><a class="" href="S5.html"><span class="header-section-number">45</span> Section 5. Time series visualization with Plotly</a></li>
<li><a class="" href="bubble-chart-gpas-of-course-at-columbia-university.html"><span class="header-section-number">46</span> Bubble chart — GPAs of Course at Columbia University</a></li>
<li><a class="" href="edav-survey-and-analysis.html"><span class="header-section-number">47</span> EDAV Survey and Analysis</a></li>
<li><a class="" href="visualizing-graphs-and-networks.html"><span class="header-section-number">48</span> Visualizing graphs and networks</a></li>
<li><a class="" href="is-the-data-visualization-misleading-or-not---survey.html"><span class="header-section-number">49</span> Is the data visualization misleading or not - Survey</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="github-initial-setup.html"><span class="header-section-number">50</span> Github initial setup</a></li>
<li><a class="" href="tutorial-for-pull-request-mergers.html"><span class="header-section-number">51</span> Tutorial for pull request mergers</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/jtr13/cc22mw">View book source <i class="fa-solid fa-chart-scatter"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="tutorial-for-wordcloud2-package" class="section level1" number="20">
<h1>
<span class="header-section-number">20</span> Tutorial for wordcloud2 package<a class="anchor" aria-label="anchor" href="#tutorial-for-wordcloud2-package"><i class="fas fa-link"></i></a>
</h1>
<p>Ruoyu Chen and Yitong Zhou</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span></span>
<span><span class="co">#devtools::install_github("lchiffon/wordcloud2", force = TRUE)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lchiffon/wordcloud2">wordcloud2</a></span><span class="op">)</span> <span class="co"># must be installed from source</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<div id="motivation-3" class="section level2" number="20.1">
<h2>
<span class="header-section-number">20.1</span> Motivation<a class="anchor" aria-label="anchor" href="#motivation-3"><i class="fas fa-link"></i></a>
</h2>
<p>There are many useful packages in “R” to visualize data, and we introduce “wordcloud2” to help users visually represent data related to frequency. Word frequency statistics method is very popular in today’s research and life, especially the text mining method. “Wordcloud2” helps to visualize the result of word frequency statistics. A word cloud shows off trends, which is a visual representation that supplements a section of text to help users better present an idea. “wordcloud2” shows the popularity of words by making the words with the highest frequency larger or bolder. Users could also self-define the color and shape of word clouds.</p>
<p>It addresses users’ need to visualize data with different frequencies. With the visualized pictures, readers could directly sense the data’s relative frequency.</p>
</div>
<div id="wordcloud2-fuction" class="section level2" number="20.2">
<h2>
<span class="header-section-number">20.2</span> “wordcloud2” Fuction:<a class="anchor" aria-label="anchor" href="#wordcloud2-fuction"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/wordcloud2.html">wordcloud2</a></span><span class="op">(</span><span class="va">data</span>,size <span class="op">=</span> <span class="fl">1</span>, minSize <span class="op">=</span> <span class="fl">0</span>, gridSize <span class="op">=</span>  <span class="fl">0</span>,</span>
<span>    fontFamily <span class="op">=</span> <span class="cn">NULL</span>, fontWeight <span class="op">=</span> <span class="st">'normal'</span>,</span>
<span>    color <span class="op">=</span> <span class="st">'random-dark'</span>, backgroundColor <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>    minRotation <span class="op">=</span> <span class="op">-</span><span class="va">pi</span><span class="op">/</span><span class="fl">4</span>, maxRotation <span class="op">=</span> <span class="va">pi</span><span class="op">/</span><span class="fl">4</span>, rotateRatio <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>    shape <span class="op">=</span> <span class="st">'circle'</span>, ellipticity <span class="op">=</span> <span class="fl">0.65</span>, widgetsize <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>
<code>data</code>: A data frame including word and freq in each column</li>
<li>
<code>size</code>: Font size, default is 1. The larger size means the bigger word.</li>
<li>
<code>fontFamily</code>: Font to use, e.g. Times New Roman, Calibri Light,…</li>
<li>
<code>fontWeight</code>: Font weight to use, e.g. normal, bold or 600</li>
<li>
<code>color</code>: color of the text, keyword “random-dark” and “random-light” can be used. color vector is also supported in this param</li>
<li>
<code>minSize</code>: A character string of the subtitle</li>
<li>
<code>backgroundColor</code>: Color of the background.</li>
<li>
<code>gridSize</code>: Size of the grid in pixels for marking the availability of the canvas the larger the grid size, the bigger the gap between words.</li>
<li>
<code>minRotation</code>: If the word should rotate, the minimum rotation (in rad) the text should rotate.</li>
<li>
<code>maxRotation</code>: If the word should rotate, the maximum rotation (in rad) the text should rotate. Set the two value equal to keep all text in one angle.</li>
<li>
<code>rotateRatio</code>: Probability for the word to rotate. Set the number to 1 to always rotate.</li>
<li>
<code>shape</code>:The shape of the “cloud” to draw. Can be a keyword present. Available presents are “circle” (default), “cardioid” (apple or heart shape curve, the most known polar equation), “diamond” (alias of square), “triangle-forward”, “triangle”, “pentagon”, and “star”.</li>
<li>
<code>ellipticity</code>: degree of “flatness” of the shape wordcloud2.js should draw.</li>
<li>
<code>figPath</code>: A fig used for the wordcloud.</li>
<li>
<code>widgetsize</code>: size of the widgets</li>
</ul>
</div>
<div id="function-application" class="section level2" number="20.3">
<h2>
<span class="header-section-number">20.3</span> Function application<a class="anchor" aria-label="anchor" href="#function-application"><i class="fas fa-link"></i></a>
</h2>
<div id="data-scource" class="section level3" number="20.3.1">
<h3>
<span class="header-section-number">20.3.1</span> Data scource<a class="anchor" aria-label="anchor" href="#data-scource"><i class="fas fa-link"></i></a>
</h3>
<p>We use a dataset, which contains the most commonly used single words on the English language web, as derived from the Google Web Trillion Word Corpus, to show how we could apply “wordcloud2” package to draw multiple and useful world clouds. Since the dataset has 333333 rows, we will only use the top 500 most commonly used single words.</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unigram_freq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"resources/wordcloud2_tutorial/unigram_freq.csv"</span>,show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">unigram_freq</span> <span class="op">&lt;-</span> <span class="va">unigram_freq</span><span class="op">[</span><span class="fl">0</span><span class="op">:</span><span class="fl">500</span>,<span class="op">]</span></span></code></pre></div>
</div>
<div id="color-and-backgroundcolor" class="section level3" number="20.3.2">
<h3>
<span class="header-section-number">20.3.2</span> Color and backgroundcolor<a class="anchor" aria-label="anchor" href="#color-and-backgroundcolor"><i class="fas fa-link"></i></a>
</h3>
<p>User could define the color and background that they like. The output of wordcloud2 should be a HTML widget. However, since it is possible to have knitting issues, We insert the word cloud.</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/wordcloud2.html">wordcloud2</a></span><span class="op">(</span><span class="va">unigram_freq</span>, color <span class="op">=</span> <span class="st">"random-light"</span>, backgroundColor <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code></pre></div>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/word0.png" style="width:60.0%" alt=""><p class="caption">Basic color and backgroudcolor</p>
</div>
</center>
</div>
<div id="rotation" class="section level3" number="20.3.3">
<h3>
<span class="header-section-number">20.3.3</span> Rotation<a class="anchor" aria-label="anchor" href="#rotation"><i class="fas fa-link"></i></a>
</h3>
<p>We could set “minRotation”, “maxRotation”, and “rotateRatio” to rotate the texts in the cloud. “rotateRatio” of all the texts will be rotated within the scope (minRotation, maxRotation). The output of wordcloud2 should be a HTML widget. However, since it is possible to have knitting issues, We insert the word cloud.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/wordcloud2.html">wordcloud2</a></span><span class="op">(</span><span class="va">unigram_freq</span>, size <span class="op">=</span> <span class="fl">1</span>, minRotation <span class="op">=</span> <span class="op">-</span><span class="va">pi</span><span class="op">/</span><span class="fl">6</span>, maxRotation <span class="op">=</span> <span class="op">-</span><span class="va">pi</span><span class="op">/</span><span class="fl">6</span>,</span>
<span>  rotateRatio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/word1.png" style="width:60.0%" alt=""><p class="caption">Rotation</p>
</div>
</center>
<p>If rotateRatio = 0.5, then only half of the words will be rotated. If minRotation <span class="math inline">\(\neq\)</span> maxRotation, words will be rotated between minRotation and maxRotation. The output of wordcloud2 should be a HTML widget. However, since it is possible to have knitting issues, We insert the word cloud.</p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/wordcloud2.html">wordcloud2</a></span><span class="op">(</span><span class="va">unigram_freq</span>, size <span class="op">=</span> <span class="fl">1</span>, minRotation <span class="op">=</span> <span class="op">-</span><span class="va">pi</span><span class="op">/</span><span class="fl">3</span>, maxRotation <span class="op">=</span> <span class="op">-</span><span class="va">pi</span><span class="op">/</span><span class="fl">6</span>,</span>
<span>  rotateRatio <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/word2.png" style="width:60.0%" alt=""><p class="caption">Rotation with different degree</p>
</div>
</center>
</div>
<div id="specific-shape-inside-the-package" class="section level3" number="20.3.4">
<h3>
<span class="header-section-number">20.3.4</span> Specific shape inside the package<a class="anchor" aria-label="anchor" href="#specific-shape-inside-the-package"><i class="fas fa-link"></i></a>
</h3>
<p>You can chose the shape of the cloud produced by setting a parameter for “shape”, “wordcloud2” provide mutiple shapes for users, you can chose the one you like, such as “star”, “circle”, “cardioid”, “diamond”, “triangle-forward”, “triangle”, “pentagon.” The output of wordcloud2 should be a HTML widget. However, since it is possible to have knitting issues, We insert the word cloud.</p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/wordcloud2.html">wordcloud2</a></span><span class="op">(</span><span class="va">unigram_freq</span>, size <span class="op">=</span> <span class="fl">1</span>,shape <span class="op">=</span> <span class="st">'star'</span><span class="op">)</span></span></code></pre></div>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/star.png" style="width:60.0%" alt=""><p class="caption">Star</p>
</div>
</center>
</div>
<div id="self-defined-shape" class="section level3" number="20.3.5">
<h3>
<span class="header-section-number">20.3.5</span> Self-defined shape<a class="anchor" aria-label="anchor" href="#self-defined-shape"><i class="fas fa-link"></i></a>
</h3>
<p>You could self-define what the picture looks like by setting the parameter “figPath”. Upload your self-defined picture by figpath, and then apply “worldclouds2” packages. In this example, we use this sun.jpg as the mask. Usually, the image is a black and white image. Since Rmarkdown has some problems when knitting the wordcloud, in order to show the result of the wordcloud, we download the wordcloud and insert it as an image.</p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/wordcloud2.html">wordcloud2</a></span><span class="op">(</span><span class="va">unigram_freq</span>, figPath <span class="op">=</span> <span class="st">"sun.jpg"</span>, size <span class="op">=</span> <span class="fl">1.9</span>,color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-9"></span>
<img src="resources/wordcloud2_tutorial/sun.jpg" alt="wordcloud with self-defined shape" width="50%" height="30%"><img src="resources/wordcloud2_tutorial/wordcloud_sun.png" alt="wordcloud with self-defined shape" width="50%" height="30%"><p class="caption">
Figure 20.1: wordcloud with self-defined shape
</p>
</div>
</div>
</div>
<div id="lettercloud-function" class="section level2" number="20.4">
<h2>
<span class="header-section-number">20.4</span> “letterCloud” function<a class="anchor" aria-label="anchor" href="#lettercloud-function"><i class="fas fa-link"></i></a>
</h2>
<p>Instead of using a specific shape, we can create wordcloud by customizing the shape of a word.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/letterCloud.html">letterCloud</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">word</span>, wordSize <span class="op">=</span> <span class="fl">0</span>, letterFont <span class="op">=</span> <span class="cn">NULL</span>,<span class="va">...</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>
<code>data</code>: A data frame including word and freq in each column</li>
<li>
<code>word</code>: A word to create shape for wordcloud</li>
<li>
<code>wordSize</code>: Parameter of the size of the word</li>
<li>
<code>letterFont</code>: Letter font</li>
<li>…: Other parameters for wordcloud</li>
</ul>
</div>
<div id="function-application-1" class="section level2" number="20.5">
<h2>
<span class="header-section-number">20.5</span> Function Application<a class="anchor" aria-label="anchor" href="#function-application-1"><i class="fas fa-link"></i></a>
</h2>
<p>Using the same data <code>unigram_freq</code>, and let “EDAV” as the word. Since Rmarkdown has some problems when knitting the wordcloud, in order to show the result of the wordcloud, we download the wordcloud and insert it as an image.</p>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/wordcloud2/man/letterCloud.html">letterCloud</a></span><span class="op">(</span><span class="va">unigram_freq</span>, word <span class="op">=</span> <span class="st">"EDAV"</span>,wordSize <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/Wordcloud.png" style="width:70.0%" alt=""><p class="caption">wordcloud by using letterCloud function</p>
</div>
</center>
</div>
<div id="some-tips-for-using-word-clouds" class="section level2" number="20.6">
<h2>
<span class="header-section-number">20.6</span> Some Tips for Using Word Clouds<a class="anchor" aria-label="anchor" href="#some-tips-for-using-word-clouds"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>When using the letterCloud() function, it is important to make sure the dataset has enough words. The more letters we include in the shape of word, the more words we need.<br></p></li>
<li><p>fontFamily in wordcloud2() include almost all the fonts we have in word document such as Times New Roman, Calibri Light,… However, choosing the most appropriate font for the project is more important.<br></p></li>
<li><p>In the self-defined shape and letterCloud() function, size and wordSize need to be considered to return a desired wordcloud.<br></p></li>
<li><p>If the range of words’ count is too large, doing som data preprocessing might be helpful to create a better word cloud such as removing words with the least frequency.</p></li>
<li>
<p>As mentioned above, we chose to insert the word cloud in order to avoid possible knitting issues. However, a word cloud in HTML is interactive. When we move the mouse on the word, it shows the frequency of this word:<br></p>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/HTML.png" style="width:60.0%" alt=""><p class="caption">HTML</p>
</div>
</center>
</li>
</ul>
</div>
<div id="common-problems" class="section level2" number="20.7">
<h2>
<span class="header-section-number">20.7</span> Common Problems<a class="anchor" aria-label="anchor" href="#common-problems"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Having issue after downloading from CRAN?<br><code>It is recommended to use the github sources as mentioned in the beginning of this tutorial.</code><br></p></li>
<li>
<p>Unable to show the word cloud?<br><code>There is no other method to solve this problem otherwise refreshing the window you could try to either refresh it using the button on the top right corner or open it as in html in a new window. Same for .rmd file.</code><br></p>
<center>
<div class="figure">
<img src="resources/wordcloud2_tutorial/tips.png" style="width:60.0%" alt=""><p class="caption">Tip for not showing a wordcloud</p>
</div>
</center>
</li>
<li><p>How to knit the word cloud into a pdf?<br><code>wordcloud2 returns HTML widgets. You could either save the image and insert it manually or using package webshot</code><br></p></li>
<li><p>More Problem?<br><code>This Github page by the packagre creator might be helpful:</code>
<a href="https://github.com/Lchiffon/wordcloud2/issues">wordcloud2 issues</a></p></li>
</ul>
</div>
<div id="evaluation-1" class="section level2" number="20.8">
<h2>
<span class="header-section-number">20.8</span> Evaluation<a class="anchor" aria-label="anchor" href="#evaluation-1"><i class="fas fa-link"></i></a>
</h2>
<p>This project aims to summarize the main functions of the “wordcloud2” package and its advantages and disadvantages. In the process, we learned how to use a word cloud to show the frequency of words, which is a unique feature of the word cloud. This is a strong visualization function because word cloud has more visual impact than a bar chart and other visualization techniques. The larger size of the more frequently used words can catch the audience’s attention immediately. Also, users can customize the color of the word and background to fit the application. Moreover, since functions in wordcloud2 returns an HTML widget, placing the mouse over the word can see the frequency of this word, which can fit in an interactive web visualization.</p>
<p>There are also some disadvantages of the wordcloud2 package. Although the basic wordcloud2() function can return a stable HTML widget, customizing our own shape either by using an image or letters would lead to an empty result. The way to solve this problem is to refresh the window. This will cause a problem when knitting a pdf or HTML like this tutorial. The method we chose is to save the word cloud as an image and insert it into the HTML. However, this will lose the function of the word cloud in user interaction.</p>
<p>If we were to do it again, we would change a different dataset. Our current dataset is about the most frequently used English words which are very interesting. However, word clouds are more useful for analyzing audiences’ ideas such as the public opinion of a certain product. Also, wordcloud2 isn’t the only package that can generate word clouds. We could add some comparisons between different word cloud packages.</p>
</div>
<div id="citation" class="section level2" number="20.9">
<h2>
<span class="header-section-number">20.9</span> Citation<a class="anchor" aria-label="anchor" href="#citation"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://cran.r-project.org/web/packages/wordcloud2/vignettes/wordcloud.html">CRAN wordcloud2</a><br><a href="https://www.rdocumentation.org/packages/wordcloud2/versions/0.2.1/topics/letterCloud">rdocumentation letterCloud</a></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="two-interesting-r-packages.html"><span class="header-section-number">19</span> Two Interesting R packages</a></div>
<div class="next"><a href="effcient-r.html"><span class="header-section-number">21</span> Effcient R</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#tutorial-for-wordcloud2-package"><span class="header-section-number">20</span> Tutorial for wordcloud2 package</a></li>
<li><a class="nav-link" href="#motivation-3"><span class="header-section-number">20.1</span> Motivation</a></li>
<li><a class="nav-link" href="#wordcloud2-fuction"><span class="header-section-number">20.2</span> “wordcloud2” Fuction:</a></li>
<li>
<a class="nav-link" href="#function-application"><span class="header-section-number">20.3</span> Function application</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-scource"><span class="header-section-number">20.3.1</span> Data scource</a></li>
<li><a class="nav-link" href="#color-and-backgroundcolor"><span class="header-section-number">20.3.2</span> Color and backgroundcolor</a></li>
<li><a class="nav-link" href="#rotation"><span class="header-section-number">20.3.3</span> Rotation</a></li>
<li><a class="nav-link" href="#specific-shape-inside-the-package"><span class="header-section-number">20.3.4</span> Specific shape inside the package</a></li>
<li><a class="nav-link" href="#self-defined-shape"><span class="header-section-number">20.3.5</span> Self-defined shape</a></li>
</ul>
</li>
<li><a class="nav-link" href="#lettercloud-function"><span class="header-section-number">20.4</span> “letterCloud” function</a></li>
<li><a class="nav-link" href="#function-application-1"><span class="header-section-number">20.5</span> Function Application</a></li>
<li><a class="nav-link" href="#some-tips-for-using-word-clouds"><span class="header-section-number">20.6</span> Some Tips for Using Word Clouds</a></li>
<li><a class="nav-link" href="#common-problems"><span class="header-section-number">20.7</span> Common Problems</a></li>
<li><a class="nav-link" href="#evaluation-1"><span class="header-section-number">20.8</span> Evaluation</a></li>
<li><a class="nav-link" href="#citation"><span class="header-section-number">20.9</span> Citation</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/jtr13/cc22mw/blob/main/wordcloud_tutorial.Rmd">View source <i class="fa-solid fa-chart-scatter"></i></a></li>
          <li><a id="book-edit" href="https://github.com/jtr13/cc22mw/edit/main/wordcloud_tutorial.Rmd">Edit this page <i class="fa-solid fa-chart-scatter"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Community Contributions for EDAV Fall 2022 Mon/Wed</strong>" was written by . It was last built on 2022-11-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
