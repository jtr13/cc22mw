<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 17 Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries | Community Contributions for EDAV Fall 2022 Mon/Wed</title>
<meta name="description" content="Kevin Taylor ############################################################## ## Install Necessary Packages for Web Driver, Plotting etc. ##...">
<meta name="generator" content="bookdown 0.30 with bs4_book()">
<meta property="og:title" content="Chapter 17 Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries | Community Contributions for EDAV Fall 2022 Mon/Wed">
<meta property="og:type" content="book">
<meta property="og:description" content="Kevin Taylor ############################################################## ## Install Necessary Packages for Web Driver, Plotting etc. ##...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 17 Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries | Community Contributions for EDAV Fall 2022 Mon/Wed">
<meta name="twitter:description" content="Kevin Taylor ############################################################## ## Install Necessary Packages for Web Driver, Plotting etc. ##...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-9.3.1/highcharts.js"></script><script src="libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="libs/highcharts-9.3.1/highcharts-more.js"></script><script src="libs/highcharts-9.3.1/modules/stock.js"></script><script src="libs/highcharts-9.3.1/modules/map.js"></script><script src="libs/highcharts-9.3.1/modules/data.js"></script><script src="libs/highcharts-9.3.1/modules/exporting.js"></script><script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="libs/highcharts-9.3.1/modules/item-series.js"></script><script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-9.3.1/modules/annotations.js"></script><script src="libs/highcharts-9.3.1/modules/export-data.js"></script><script src="libs/highcharts-9.3.1/modules/funnel.js"></script><script src="libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="libs/highcharts-9.3.1/modules/treemap.js"></script><script src="libs/highcharts-9.3.1/modules/sankey.js"></script><script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="libs/highcharts-9.3.1/modules/organization.js"></script><script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="libs/highcharts-9.3.1/modules/vector.js"></script><script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="libs/highcharts-9.3.1/modules/xrange.js"></script><script src="libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="libs/highcharts-9.3.1/modules/venn.js"></script><script src="libs/highcharts-9.3.1/modules/gantt.js"></script><script src="libs/highcharts-9.3.1/modules/timeline.js"></script><script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="libs/highcharts-9.3.1/modules/bullet.js"></script><script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="libs/highcharts-9.3.1/modules/series-label.js"></script><script src="libs/highcharts-9.3.1/plugins/motion.js"></script><script src="libs/highcharts-9.3.1/custom/reset.js"></script><script src="libs/highcharts-9.3.1/modules/boost.js"></script><script src="libs/highchart-binding-0.9.4/highchart.js"></script><script src="libs/plotly-binding-4.10.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script><link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="libs/dygraphs-1.1.1/shapes.js"></script><script src="libs/moment-2.8.4/moment.js"></script><script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script><script src="libs/Dygraph.Plotters.CandlestickPlotter-1.0/candlestick.js"></script><script src="libs/d3-4.10.2/d3.min.js"></script><link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
<script src="libs/profvis-0.3.6.9000/profvis.js"></script><script src="libs/profvis-0.3.6.9000/scroll.js"></script><link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet">
<script src="libs/highlight-6.2.0/highlight.js"></script><script src="libs/profvis-binding-0.3.7/profvis.js"></script><link href="libs/collapsibleTree-0.1.6/collapsibleTree.css" rel="stylesheet">
<script src="libs/collapsibleTree-binding-0.1.7/collapsibleTree.js"></script><script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Community Contributions for EDAV Fall 2022 Mon/Wed</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="community-contribution.html"><span class="header-section-number">2</span> Community Contribution</a></li>
<li><a class="" href="github-submission-instructions.html"><span class="header-section-number">3</span> GitHub submission instructions</a></li>
<li><a class="" href="sample-project.html"><span class="header-section-number">4</span> Sample project</a></li>
<li class="book-part">Cheatsheets</li>
<li><a class="" href="geographic-visualization-by-ggmap.html"><span class="header-section-number">5</span> Geographic visualization by ggmap</a></li>
<li><a class="" href="googlevis.html"><span class="header-section-number">6</span> googleVis</a></li>
<li><a class="" href="text-data-visualization-by-tidytext.html"><span class="header-section-number">7</span> Text data visualization by tidytext</a></li>
<li><a class="" href="cheatsheet-of-ggally-including-ggcoef_model-and-ggpairs.html"><span class="header-section-number">8</span> Cheatsheet of GGally (including ggcoef_model and ggpairs)</a></li>
<li><a class="" href="cheatsheet-for-data-science.html"><span class="header-section-number">9</span> Cheatsheet for data science</a></li>
<li><a class="" href="cheatsheet-for-plotly.html"><span class="header-section-number">10</span> Cheatsheet for Plotly</a></li>
<li><a class="" href="dataexplorer-cheatsheet-eda-made-easier.html"><span class="header-section-number">11</span> DataExplorer Cheatsheet, EDA made easier</a></li>
<li><a class="" href="data-visualization-with-ggplot2-r-and-matplotlib-python-cheat-sheet.html"><span class="header-section-number">12</span> Data Visualization with GGPlot2 (R) and MatPlotLib (Python) Cheat Sheet</a></li>
<li class="book-part">Tutorials</li>
<li><a class="" href="map-plots-with-highcharts.html"><span class="header-section-number">13</span> Map Plots with Highcharts</a></li>
<li><a class="" href="introduction-of-machine-learning-in-r.html"><span class="header-section-number">14</span> Introduction of machine learning in R</a></li>
<li><a class="" href="quantmod-tidyquant-tutorials-and-comparison.html"><span class="header-section-number">15</span> Quantmod &amp; Tidyquant Tutorials and Comparison</a></li>
<li><a class="" href="learning-echarts4r-with-shiny.html"><span class="header-section-number">16</span> Learning echarts4r with shiny</a></li>
<li><a class="active" href="picturing-inflation-an-exercise-in-web-scraping-plotly-and-timeseries.html"><span class="header-section-number">17</span> Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries</a></li>
<li><a class="" href="introcuction-to-dygraph-for-financial-analysis.html"><span class="header-section-number">18</span> Introcuction to Dygraph for Financial Analysis</a></li>
<li><a class="" href="two-interesting-r-packages.html"><span class="header-section-number">19</span> Two Interesting R packages</a></li>
<li><a class="" href="tutorial-for-wordcloud2-package.html"><span class="header-section-number">20</span> Tutorial for wordcloud2 package</a></li>
<li><a class="" href="effcient-r.html"><span class="header-section-number">21</span> Effcient R</a></li>
<li><a class="" href="color-vision-deficiency.html"><span class="header-section-number">22</span> Color vision deficiency</a></li>
<li><a class="" href="tutorials-for-ggfortify-and-autoplotly.html"><span class="header-section-number">23</span> Tutorials for ggfortify and autoplotly</a></li>
<li><a class="" href="becoming-a-better-business-analyst.html"><span class="header-section-number">24</span> Becoming a better business analyst</a></li>
<li><a class="" href="cheatsheet-of-ggstatsplot-in-r.html"><span class="header-section-number">25</span> Cheatsheet of ggstatsplot in R</a></li>
<li><a class="" href="best-parallel-coordinates-r-package.html"><span class="header-section-number">26</span> Best Parallel Coordinates R Package</a></li>
<li><a class="" href="hypothesis-testing-guide-in-r.html"><span class="header-section-number">27</span> Hypothesis Testing Guide in R</a></li>
<li><a class="" href="python-tutorial-gather-data-through-api-and-web-scraping.html"><span class="header-section-number">28</span> Python tutorial: gather data through API and web scraping</a></li>
<li><a class="" href="an-interactive-dashboard-covid-19-visualization-with-shiny-and-plotly.html"><span class="header-section-number">29</span> An Interactive Dashboard: COVID-19 Visualization with Shiny and Plotly</a></li>
<li><a class="" href="interactive-plots-for-different-types-of-graphs-in-r.html"><span class="header-section-number">30</span> Interactive plots for different types of graphs in R</a></li>
<li><a class="" href="introduction-to-plotly-in-r.html"><span class="header-section-number">31</span> Introduction to Plotly in R</a></li>
<li><a class="" href="edav-survey-and-analysis.html"><span class="header-section-number">32</span> EDAV Survey and Analysis</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="github-initial-setup.html"><span class="header-section-number">33</span> Github initial setup</a></li>
<li><a class="" href="tutorial-for-pull-request-mergers.html"><span class="header-section-number">34</span> Tutorial for pull request mergers</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/jtr13/cc22mw">View book source <i class="fa-solid fa-chart-scatter"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="picturing-inflation-an-exercise-in-web-scraping-plotly-and-timeseries" class="section level1" number="17">
<h1>
<span class="header-section-number">17</span> Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries<a class="anchor" aria-label="anchor" href="#picturing-inflation-an-exercise-in-web-scraping-plotly-and-timeseries"><i class="fas fa-link"></i></a>
</h1>
<p>Kevin Taylor</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##############################################################</span></span>
<span><span class="co">## Install Necessary Packages for Web Driver, Plotting etc. ##</span></span>
<span><span class="co">##############################################################</span></span>
<span></span>
<span><span class="co"># install.packages('RSelenium')</span></span>
<span><span class="co"># install.packages('rvest')</span></span>
<span><span class="co"># install.packages('dplyr')</span></span>
<span><span class="co"># install.packages('XML')</span></span>
<span><span class="co"># install.packages('lubridate')</span></span>
<span><span class="co"># install.packages('tidyr')</span></span>
<span><span class="co"># install.packages('plotly')</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/RSelenium/">RSelenium</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/">rvest</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.omegahat.net/RSXML/">XML</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span></span></code></pre></div>
<div id="background-goals-motivation" class="section level2" number="17.1">
<h2>
<span class="header-section-number">17.1</span> Background / Goals &amp; Motivation<a class="anchor" aria-label="anchor" href="#background-goals-motivation"><i class="fas fa-link"></i></a>
</h2>
<p>Inflation in the wake of COVID-19 is one of today’s most important issues, reflected in the prices of almost all goods and services. Some products have rapidly doubled or tripled in price, while others have remained relatively stable. There are many ways to measure inflation, and many indices that reflect national averages for price, but perhaps the most well-known are published by the Bureau of Labor Statistics (BLS). Notably, the <a href="https://www.bls.gov/cpi/" target="_blank">Consumer Price Index (CPI)</a> measures the average price paid by consumers for a wide variety of commodities. Countless agencies use the Consumer/Producer Price Index for various commodities as an indicator for nationwide inflation, but collecting the data can be quite tedious. My goal/motivation was to develop a framework for gathering Price Index data efficiently from the Bureau of Labor Statistics to picture inflation, while simultaneously exploring the syntax for RSelenium, plotly and timeseries data in R.</p>
<p>I sought to develop a framework using web scraping and interactive visualizations to compare inflation among different commodities. The Bureau of Labor statistics offers visualizations for individual commodities. However, there is no simple way to collect data for multiple commodities and compare the relative change over time for each. The framework below scrapes data for each price index listed, and creates an interactive visualization including data from each commodity for easy comparison.</p>
</div>
<div id="methods" class="section level2" number="17.2">
<h2>
<span class="header-section-number">17.2</span> Methods<a class="anchor" aria-label="anchor" href="#methods"><i class="fas fa-link"></i></a>
</h2>
<div id="creating-a-web-scraping-function" class="section level3" number="17.2.1">
<h3>
<span class="header-section-number">17.2.1</span> Creating a Web Scraping Function<a class="anchor" aria-label="anchor" href="#creating-a-web-scraping-function"><i class="fas fa-link"></i></a>
</h3>
<p>I began by creating a function to scrape the data and metadata from a single url. The function takes three inputs - the url as a string, an object rD which is an instance of the <em>rsDriver</em> object from the <em>RSelenium</em> package, and an integer start_year which represents the first year for collecting data. The web driver opens the url, interacts with the page through dropdowns and buttons to update the data start year, then reads the HTML tables to scrape the data. The HTML tables on the page include the data itself as well as tables with metadata detailing the particular commodity name, industry, seasonal adjustment to the timeseries, etc. After the data is read, the data is processed for plotting, including removing characters for preliminary measurements ie) <em>246.6 (P)</em> and scaling the values using the first value as 100. Scaling the data is extremely important as it allows for easy relative comparison between multiple price indices. The function <em>get_index_data</em> below details the process of scraping and processing the data from one Bureau of Labor Statistics timeseries url.</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##########################################################</span></span>
<span><span class="co">## Function to access the input url and scrape the data ##</span></span>
<span><span class="co">##########################################################</span></span>
<span></span>
<span><span class="co">#' @title get_index_data</span></span>
<span><span class="co">#' @descrition Gathers Data and Metadata from a Price Index</span></span>
<span><span class="co">#' Timeseries URL</span></span>
<span><span class="co">#' @param url = the url string of the price index timeseries</span></span>
<span><span class="co">#' @param rD = an instance of RSelenium rsDriver with appropriate parameters</span></span>
<span><span class="co">#' @param start_year = the year(int) to use as a baseline</span></span>
<span><span class="co">#' @return df DataFrame including timeseries index values and metadata</span></span>
<span></span>
<span><span class="va">get_index_data</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">url</span>, <span class="va">rD</span>, <span class="va">start_year</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="co"># navigate to the URL</span></span>
<span>  <span class="va">remDr</span> <span class="op">=</span> <span class="va">rD</span><span class="op">[[</span><span class="st">'client'</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">remDr</span><span class="op">$</span><span class="fu">navigate</span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="co"># Sleep to allow the webpage to load</span></span>
<span>  </span>
<span>  <span class="co"># find the 'Start Year' dropdown and select the start year</span></span>
<span>  <span class="va">year_checkbox</span> <span class="op">=</span> <span class="va">remDr</span><span class="op">$</span><span class="fu">findElement</span><span class="op">(</span>using <span class="op">=</span> <span class="st">'id'</span>, value <span class="op">=</span> <span class="st">'dv-start-year'</span><span class="op">)</span></span>
<span>  <span class="va">year_checkbox</span><span class="op">$</span><span class="fu">clickElement</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">option</span> <span class="op">=</span> <span class="va">remDr</span><span class="op">$</span><span class="fu">findElement</span><span class="op">(</span>using <span class="op">=</span> <span class="st">'xpath'</span>,</span>
<span>                             <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"//*/option[@value = '%s']"</span>, <span class="va">start_year</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">option</span><span class="op">$</span><span class="fu">clickElement</span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># find the 'Update' button and click it</span></span>
<span>  <span class="va">update_button</span> <span class="op">=</span> <span class="va">remDr</span><span class="op">$</span><span class="fu">findElement</span><span class="op">(</span>using <span class="op">=</span> <span class="st">'xpath'</span>, <span class="st">"//input[@value='Update']"</span><span class="op">)</span></span>
<span>  <span class="va">update_button</span><span class="op">$</span><span class="fu">clickElement</span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co">## Sleep to allow the webpage to update</span></span>
<span>  </span>
<span>  <span class="co"># read the HTML and extract the tables as a list </span></span>
<span>  <span class="va">html_tables</span> <span class="op">=</span> <span class="va">remDr</span><span class="op">$</span><span class="fu">getPageSource</span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_table.html">html_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">###############################################################</span></span>
<span>  <span class="co">## Using the Scraped HTML Tables, Tidy the Data for Plotting ##</span></span>
<span>  <span class="co">###############################################################</span></span>
<span>  </span>
<span>  <span class="va">df</span> <span class="op">=</span> <span class="va">html_tables</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span> <span class="co"># this is the table with the bulk of the data</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">html_tables</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="co"># Contains the column names</span></span>
<span>  <span class="co"># the below table contains metadata </span></span>
<span>  <span class="va">metadata</span> <span class="op">=</span> <span class="op">(</span><span class="va">html_tables</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="va">X1</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">metadata</span><span class="op">)</span> <span class="op">=</span> <span class="va">metadata</span><span class="op">$</span><span class="va">X1</span></span>
<span>  </span>
<span>  <span class="co"># some values listed as preliminary x.x (P) - remove this and cast as numeric</span></span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">Value</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\(P\\)'</span>, <span class="st">''</span>, <span class="va">df</span><span class="op">$</span><span class="va">Value</span><span class="op">)</span><span class="op">)</span> </span>
<span>  <span class="co"># scale the value column to first value = 100</span></span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">Value</span> <span class="op">=</span> <span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Value</span><span class="op">/</span><span class="va">df</span><span class="op">$</span><span class="va">Value</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span></span>
<span>  <span class="co"># calculate the row-by-row percent change in the index value</span></span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">percent_change_last_update</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="cn">NA</span>,</span>
<span>    <span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Value</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="va">df</span><span class="op">$</span><span class="va">Value</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">/</span><span class="va">df</span><span class="op">$</span><span class="va">Value</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  </span>
<span>  <span class="co"># data published quarterly - change quarters to months</span></span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">Label</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'Qtr1'</span>, <span class="st">'Mar'</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'Qtr2'</span>, <span class="st">'Jun'</span>,</span>
<span>                       <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'Qtr3'</span>, <span class="st">'Sep'</span>,</span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'Qtr4'</span>, <span class="st">'Dec'</span>, <span class="va">df</span><span class="op">$</span><span class="va">Label</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># data published biannually - change halves to months</span></span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">Label</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'Half1'</span>, <span class="st">'Jun'</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'Half2'</span>, <span class="st">'Dec'</span>, <span class="va">df</span><span class="op">$</span><span class="va">Label</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">dt</span> <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html">ym</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Label</span><span class="op">)</span> <span class="co"># convert label to datetime year-month form</span></span>
<span>  </span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">url</span> <span class="op">=</span> <span class="va">url</span> <span class="co"># add url to table</span></span>
<span>  <span class="va">df</span><span class="op">$</span><span class="va">Item</span> <span class="op">=</span> <span class="va">metadata</span><span class="op">[</span><span class="st">'Item'</span>,<span class="op">]</span><span class="op">$</span><span class="va">value</span> <span class="co"># add item name to table</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div id="gathering-the-data-for-some-indices" class="section level3" number="17.2.2">
<h3>
<span class="header-section-number">17.2.2</span> Gathering the Data for Some Indices<a class="anchor" aria-label="anchor" href="#gathering-the-data-for-some-indices"><i class="fas fa-link"></i></a>
</h3>
<p>This function was interesting it uses some of the web scraping techniques covered in class, as well as timeseries principles such as scaling timeseries data (base year as value 100) and <em>lubridate</em> package functions for conversion from character type to Date type. After creating the web scraping function, I gathered the data for a small set of indices. Items such as eggs, milk and gasoline are often highlighted as they are common items that have recently experienced inflation. I created a list of the url for the Consumer Price Index for each of these items in U.S. cities, and compiled the data using the above web scraping function. For each item I passed the function the url, the <em>RSelenium</em> <em>rsDriver</em> object I created, and the start year of 2015 to get a picture of prices before and after the COVID-19 pandemic.</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">urls</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">'https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH'</span>, <span class="co"># eggs</span></span>
<span>  <span class="st">'https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFJ01'</span>, <span class="co"># milk</span></span>
<span>  <span class="st">'https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SETB01'</span> <span class="co"># gasoline</span></span>
<span><span class="op">)</span></span>
<span><span class="va">start_year</span> <span class="op">=</span> <span class="fl">2015</span></span></code></pre></div>
<p>At this point, I ran the code below. As a web driver was used and cannot be incorporated into the bookdown collection without launching the web driver, I have commented out the code and instead read the data from a static file representing the webdriver output. To use the webdriver on Bureau of Labor Statistics webpages, simply remove the comments.</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create the Selenium Web Driver with the appropriate Chrome Driver</span></span>
<span><span class="co"># check Chrome version and run binman::list_versions("chromedriver")</span></span>
<span><span class="co"># to see all possible chromedriver inputs</span></span>
<span></span>
<span><span class="co">########################</span></span>
<span><span class="co">## Web Scraping Block ##</span></span>
<span><span class="co">########################</span></span>
<span><span class="co"># df_total = data.frame() # aggregate dataframe</span></span>
<span><span class="co"># </span></span>
<span><span class="co">#   rD = rsDriver(</span></span>
<span><span class="co">#    verbose = TRUE,</span></span>
<span><span class="co">#    browser = 'chrome',</span></span>
<span><span class="co">#    chromever = '107.0.5304.62',</span></span>
<span><span class="co">#    port = 4545L,</span></span>
<span><span class="co">#    check = TRUE</span></span>
<span><span class="co">#   )</span></span>
<span><span class="co">#   </span></span>
<span><span class="co">#   for(url in urls)</span></span>
<span><span class="co">#   {</span></span>
<span><span class="co">#    df = get_index_data(url, rD, 2015);</span></span>
<span><span class="co">#    if(nrow(df_total) == 0)</span></span>
<span><span class="co">#    {</span></span>
<span><span class="co">#      df_total = df</span></span>
<span><span class="co">#    }</span></span>
<span><span class="co">#    else</span></span>
<span><span class="co">#      df_total = rbind(df_total, df)</span></span>
<span><span class="co">#   }</span></span>
<span><span class="co">#   df_total =  df_total[,c('dt',</span></span>
<span><span class="co">#                          'Value',</span></span>
<span><span class="co">#                          'percent_change_last_update',</span></span>
<span><span class="co">#                          'Item',</span></span>
<span><span class="co">#                          'url')]</span></span>
<span><span class="co">#  #########################</span></span>
<span><span class="va">df_total</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">'./resources/inflation_web_scraping/bls_data.csv'</span><span class="op">)</span></span>
<span><span class="va">df_total</span><span class="op">$</span><span class="va">dt</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="va">df_total</span><span class="op">$</span><span class="va">dt</span><span class="op">)</span> <span class="co"># reads dates as characters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df_total</span><span class="op">)</span></span></code></pre></div>
<pre><code>##   X         dt     Value percent_change_last_update Item
## 1 1 2015-01-01 100.00000                         NA Eggs
## 2 2 2015-02-01 100.94505                0.009450543 Eggs
## 3 3 2015-03-01 100.09782               -0.008393045 Eggs
## 4 4 2015-04-01  97.57482               -0.025205373 Eggs
## 5 5 2015-05-01  96.18938               -0.014198645 Eggs
## 6 6 2015-06-01 113.33988                0.178299253 Eggs
##                                                            url
## 1 https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH
## 2 https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH
## 3 https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH
## 4 https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH
## 5 https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH
## 6 https://beta.bls.gov/dataViewer/view/timeseries/CUUR0000SEFH</code></pre>
</div>
<div id="creating-interactive-visualizations" class="section level3" number="17.2.3">
<h3>
<span class="header-section-number">17.2.3</span> Creating Interactive Visualizations<a class="anchor" aria-label="anchor" href="#creating-interactive-visualizations"><i class="fas fa-link"></i></a>
</h3>
<p>Plotly is a package that allows users to create interactive visualizations. It comes with editable layout elements and a tooltip which displays information about the data when the user hovers over the graph. I began by creating the axes and adding some general formatting (theme, title, and font elements). For each commodity timeseries I collected above, I added a trace to the Plotly figure I created, each time formatting the tooltip to display some relevant information. The final output, a composite figure with multiple indices, allows all the commodities to be compared on the same axis, a feature not included in the Bureau of Labor Statistics data viewer. Furthermore, scaling each timeseries to a base value of 100 allows the relative inflation of each commodity to be compared on the same basis. Please note: the price index value itself is not proportional to any particular unit price; rather, viewers should gain insight from the relative change in each price index over time.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#########################################################</span></span>
<span><span class="co">## Create the Plotly Figure and add General Formatting ##</span></span>
<span><span class="co">#########################################################</span></span>
<span></span>
<span><span class="va">fig</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">fig</span> <span class="op">=</span> <span class="va">fig</span> <span class="op">|&gt;</span> <span class="fu">layout</span><span class="op">(</span></span>
<span>  width <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  template <span class="op">=</span> <span class="st">'seaborn'</span>, <span class="co"># set a general template</span></span>
<span>  plot_bgcolor <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>  paper_bgcolor <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>  title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'&lt;b&gt;Price Index Values (Scaled)&lt;/b&gt;</span></span>
<span><span class="st">    Source:&lt;a href="https://beta.bls.gov/dataQuery/find"&gt;Bureau of Labor Statistics&lt;/a&gt;</span></span>
<span><span class="st">    Baseline Jan %s'</span>, <span class="va">start_year</span><span class="op">)</span>,</span>
<span>    font_size <span class="op">=</span> <span class="fl">18</span>,</span>
<span>    font_family <span class="op">=</span> <span class="st">'Arial'</span>,</span>
<span>    font_color <span class="op">=</span> <span class="st">'black'</span></span>
<span>  <span class="op">)</span>,</span>
<span>  xaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span> <span class="co"># x-axis formatting</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      text <span class="op">=</span> <span class="st">'Date'</span>,</span>
<span>      font_size <span class="op">=</span> <span class="fl">16</span>,</span>
<span>      font_family <span class="op">=</span> <span class="st">'Arial'</span></span>
<span>    <span class="op">)</span>,</span>
<span>    tickfont <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>      family <span class="op">=</span> <span class="st">'Arial'</span></span>
<span>    <span class="op">)</span>,</span>
<span>    showgrid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    gridwidth <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>    gridcolor <span class="op">=</span> <span class="st">'#EFEFEF'</span></span>
<span>  <span class="op">)</span>,</span>
<span>  yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span> <span class="co"># y-axis formatting</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      text <span class="op">=</span> <span class="st">'Price Index Value (Scaled)'</span>,</span>
<span>      font_size <span class="op">=</span> <span class="fl">16</span>,</span>
<span>      font_family <span class="op">=</span> <span class="st">'Arial'</span></span>
<span>    <span class="op">)</span>,</span>
<span>    tickfont <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>      family <span class="op">=</span> <span class="st">'Arial'</span></span>
<span>    <span class="op">)</span>,</span>
<span>    showgrid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    gridwidth <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>    gridcolor <span class="op">=</span> <span class="st">'#EFEFEF'</span></span>
<span>  <span class="op">)</span>,</span>
<span>  hovermode <span class="op">=</span> <span class="st">'x unified'</span>, <span class="co"># display settings when hovering over chart</span></span>
<span>  hoverlabel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    font_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>    font_family <span class="op">=</span> <span class="st">'Arial'</span>,</span>
<span>    align <span class="op">=</span> <span class="st">'left'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#############################################################</span></span>
<span><span class="co">## Add a trace to the figure for each commodity timeseries ##</span></span>
<span><span class="co">#############################################################</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">url</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">urls</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">=</span> <span class="va">df_total</span><span class="op">[</span><span class="va">df_total</span><span class="op">$</span><span class="va">url</span> <span class="op">==</span> <span class="va">url</span>,<span class="op">]</span></span>
<span>  <span class="va">fig</span> <span class="op">=</span> <span class="va">fig</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span> <span class="co"># add a trace for a particular commodity</span></span>
<span>    data <span class="op">=</span> <span class="va">data</span>,</span>
<span>    customdata <span class="op">=</span> <span class="op">~</span><span class="va">percent_change_last_update</span>,</span>
<span>    text <span class="op">=</span> <span class="op">~</span><span class="va">Item</span>,</span>
<span>    x <span class="op">=</span> <span class="op">~</span><span class="va">dt</span>,</span>
<span>    y <span class="op">=</span> <span class="op">~</span><span class="va">Value</span>,</span>
<span>    type <span class="op">=</span> <span class="st">'scatter'</span>,</span>
<span>    mode <span class="op">=</span> <span class="st">'markers+lines'</span>,</span>
<span>    name <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Item</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    line <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      width <span class="op">=</span> <span class="fl">2.5</span></span>
<span>    <span class="op">)</span>,</span>
<span>    marker <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      opacity <span class="op">=</span> <span class="fl">0.5</span></span>
<span>    <span class="op">)</span>,</span>
<span>    hovertemplate <span class="op">=</span> <span class="st">'&lt;b&gt;%{text}&lt;/b&gt;&lt;br&gt;Value: %{y:.1f}&lt;br&gt;% Change from Prev Update: %{customdata:.1%}&lt;extra&gt;&lt;/extra&gt;'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">fig</span></span></code></pre></div>
<div id="htmlwidget-899ffb52c51de5b10e7c" style="width:80%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-899ffb52c51de5b10e7c">{"x":{"visdat":{"424b42c0141b":["function () ","plotlyVisDat"],"424be969340":["function () ","data"],"424b1729ce23":["function () ","data"],"424b47d349f4":["function () ","data"]},"cur_data":"424b47d349f4","attrs":{"424be969340":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"customdata":{},"text":{},"x":{},"y":{},"type":"scatter","mode":"markers+lines","name":"Eggs","line":{"width":2.5},"marker":{"opacity":0.5},"hovertemplate":"<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","inherit":true},"424b1729ce23":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"customdata":{},"text":{},"x":{},"y":{},"type":"scatter","mode":"markers+lines","name":"Milk","line":{"width":2.5},"marker":{"opacity":0.5},"hovertemplate":"<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","inherit":true},"424b47d349f4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"customdata":{},"text":{},"x":{},"y":{},"type":"scatter","mode":"markers+lines","name":"Gasoline (all types)","line":{"width":2.5},"marker":{"opacity":0.5},"hovertemplate":"<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","inherit":true}},"layout":{"width":1000,"margin":{"b":40,"l":60,"t":25,"r":10},"template":"seaborn","plot_bgcolor":"white","paper_bgcolor":"white","title":{"text":"<b>Price Index Values (Scaled)<\/b><br />    Source:<a href=\"https://beta.bls.gov/dataQuery/find\">Bureau of Labor Statistics<\/a><br />    Baseline Jan 2015","font_size":18,"font_family":"Arial","font_color":"black"},"xaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Date","font_size":16,"font_family":"Arial"},"tickfont":{"size":14,"family":"Arial"},"showgrid":true,"gridwidth":0.6,"gridcolor":"#EFEFEF"},"yaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Price Index Value (Scaled)","font_size":16,"font_family":"Arial"},"tickfont":{"size":14,"family":"Arial"},"showgrid":true,"gridwidth":0.6,"gridcolor":"#EFEFEF"},"hovermode":"x unified","hoverlabel":{"font_size":14,"font_family":"Arial","align":"left"},"showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"customdata":[null,0.00945054345496274,-0.00839304465995405,-0.0252053727856726,-0.0141986452375627,0.178299253305027,0.026355693551881,0.0920990036650653,0.0078377839471141,-0.0512175077616121,-0.0218630599301279,-0.000800267630486432,-0.100612498112613,0.00212042247866813,-0.0584012848574021,-0.0690938204659114,-0.0596760053680568,-0.0603967833156591,-0.00367268435135521,-0.0449237740123661,0.0131108167944967,-0.019823906733982,0.0113764736912826,-0.00815836478420704,0.0954710297714431,-0.0496709885740423,-0.0364650098882508,0.00262125790704916,-0.0456978241245442,-0.0110927896867038,0.0020124089842302,0.0166929232438523,0.0284866956048805,0.0541980543776503,-0.00752907994737696,0.0729390672458434,0.00535063549906664,0.025377501944975,0.0135451468971612,0.0624098814582296,-0.0583673632796861,-0.0718917011407265,0.0251177322118996,-0.00122891297061782,-0.0126800894854585,-0.0152674177263376,-0.000331343736913138,0.0132903671308552,-0.00597877444210226,-0.00279255562258894,-0.0088686206659487,-0.0347884393063583,-0.0487478859946247,-0.0372245054192353,0.00503763843043303,-0.0215381732631009,0.0789367293309076,-0.021945026500678,0.00823696653795382,0.0670623175072995,-0.0217082667591285,0.00273483150372619,0.0167988956768039,0.150087374809748,-0.0796933332244125,-0.0485853138938818,-0.0386998059411852,-0.0230987227765052,0.00822603719599409,0.0138149856134959,0.0140155123146006,0.00733264320220847,0.00174607252623862,0.0375534900951305,0.0202050718667032,0.00100505218195036,-0.0257510152489041,-0.00425574986312585,0.00604358031308324,0.0160653268177978,0.0333086234484753,0.00440501655708811,-0.0183964113061277,0.036244487235232,0.0199952901886064,0.0215762409486831,0.0186427793643291,0.103113327040524,0.0504527104116083,0.00295201924382341,0.0430600918402411,0.0288438181122407,-0.03545796502395,0.101277580309838],"text":["Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs","Eggs"],"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01"],"y":[100,100.945054345496,100.097817996173,97.5748151785471,96.1893849937061,113.339880513954,116.327031671986,127.040635388291,128.036352440968,121.478649566054,118.822754570361,118.727664566113,106.78217763904,107.008600968827,100.759161181454,93.7973257884871,88.199876071224,82.8728872676823,82.5685213114626,78.8592317195313,79.8931406591608,78.3093464900487,79.2002307101743,78.5540863370473,86.0537258524,81.7793522188317,78.7972673315173,79.0038152915639,75.393512835202,74.5571884535793,74.7072280094622,75.9543100323852,78.1179973421564,82.3518408099798,81.7318072167078,87.6932489994115,88.1624636105363,90.3998067022865,91.6242853635439,97.3425461517777,91.6609183979673,85.0712590462161,87.2080561498681,87.1008850385231,85.996438021972,84.6834944797135,84.6554351341977,85.7805369467535,85.2676744648264,85.0295597410746,84.2754648303384,81.343652937073,77.3783218173103,74.4979520574905,74.8732458037639,73.2606128628716,79.0435660310445,77.3089528797852,77.9457441377402,83.1729663794481,81.367425438135,81.5899516366003,82.960572722419,95.4119072950401,87.8082143733997,83.5420247156068,80.3089645711792,78.4539300620813,79.0992950089439,80.1920506315301,81.3159833046894,81.9122443968995,82.0552691164034,85.1367308524195,86.8569246177888,86.9442203593935,84.7053184151146,84.3448337678635,84.8545785447332,86.2177950810408,89.089591151953,89.4820322760416,87.8358840057834,91.0194505824263,92.8394109096294,94.8425364089494,96.6106648895748,106.572511973936,111.949384058395,112.279860794469,117.114641912089,120.492675341681,116.220250273774,127.990756004505],"type":"scatter","mode":"markers+lines","name":"Eggs","line":{"color":"rgba(31,119,180,1)","width":2.5},"marker":{"color":"rgba(31,119,180,1)","opacity":0.5,"line":{"color":"rgba(31,119,180,1)"}},"hovertemplate":["<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>"],"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"customdata":[null,-0.033010486596153,-0.00159027128157165,-0.0124881208925056,-0.00439833012551169,-0.0109865425064836,0.0144879656969019,-0.0105360995400208,0.00569097329356525,-0.0067496164990627,-0.00598551669698323,0.0063184935054174,-0.0144035463328944,-0.00964986179671218,-0.0126333106022792,-0.00837332497899546,-0.00168018955984779,-0.00988952501510394,-0.00390815118297861,0.0118433814896117,0.0220112867305236,0.00940049788083309,-0.010717230008244,0.0127330508474577,-0.00532764307580718,-0.0031267745847911,-0.00627316393915323,-0.0134110869703682,0.00199417528657301,-0.00768878325362946,0.0011903903037297,-0.00316339398306598,-0.00158310201249155,0.00270784914239399,0.00367532908275625,0.00413669064748185,-0.0123159591617409,-0.00235027855153193,-0.01314603146904,0.00391235153694265,-0.00176140325125706,0.00591111274491787,-0.00792287620871351,0.00892179614690375,-0.000460035342397571,0.00749545232059491,0.00455372745796143,-0.00494452745475935,0.00358355337608451,-0.00304309484914623,0.0107522204096427,0.00156375530816022,-0.00178333548193027,0.000774876773068747,0.0042083378141018,0.00706779370609416,0.00552239440813254,0.00817112118498872,0.00652447552447557,0.00633628146429246,0.012475404743001,-0.00280937184627537,0.000376094091903561,0.00989097371748864,-0.00593602360872316,-0.00950532802233352,0.00396648083096738,0.0403571477479699,0.000559431354482086,-0.0193652359809243,0.0073382926060332,0.02246712169136,-0.0140476330031458,-0.0145318114563515,-0.00737975226553706,0.0194272440593958,0.0173877907901012,3.90642802732303e-05,0.00949224929849792,-0.00688778965154731,0.00546142906311493,0.00472776593683405,0.0100024427559429,0.0185211115212767,0.0105294073537133,0.0261450841923653,0.0107447827842426,0.0323984641434737,0.0281072777463359,0.00466788372419609,0.00197365478373669,0.00504438951168738,-0.0100936634224071,-0.000689867915533225],"text":["Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk","Milk"],"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01"],"y":[100,96.6989513403847,96.54517377511,95.3395059734185,94.9201713521442,93.8773268548611,95.2374183460512,94.2339874264226,94.7702705322125,94.1306075506077,93.5671872274163,94.1583908922329,92.8021761463859,91.9066479721391,90.7455627418928,89.9857206546531,89.8345275862737,88.9461067784892,88.5984919460615,89.647797685583,91.6210610652004,92.4823446555835,91.4911900962079,92.6561520717973,92.1625131647811,91.874341760947,91.2979989532787,90.0735935490957,90.2532160833242,89.5592786669165,89.6658891638506,89.3822406295834,89.2407394245618,89.4823898842792,89.8112671142154,90.1827885429253,89.0721010021387,88.8627567536135,87.6945641569048,88.0376561197656,87.8825863060432,88.4020701820132,87.7016715233671,88.4841279584413,88.4434221323392,89.1063455860024,89.5121115985759,89.0695165052433,89.3887018718219,89.1166835735839,90.0748857975434,90.2157408783413,90.0548559466043,90.1246373627794,90.5039122821754,91.1435752637802,91.6469060341541,92.3957640095885,92.9985979104343,93.5878632025793,94.7554096750641,94.4892064948407,94.5247433271521,95.4596850790533,94.8930341347427,93.9910447182575,94.3638583954151,98.1721145707474,98.2270351297741,96.3248454147794,97.031705315664,99.2117284469112,97.8180384960812,96.3965652036261,95.6851824331746,97.5440818251717,99.2401579127603,99.2440346581034,100.186083776467,99.4960231054022,100.039413577654,100.512376509508,101.517745801808,103.397967293192,104.486686610368,107.218499828777,108.37053931989,111.881578352254,115.026264949699,115.563194179713,115.79127603073,116.375372329084,115.200718490137,115.121245210604],"type":"scatter","mode":"markers+lines","name":"Milk","line":{"color":"rgba(255,127,14,1)","width":2.5},"marker":{"color":"rgba(255,127,14,1)","opacity":0.5,"line":{"color":"rgba(255,127,14,1)"}},"hovertemplate":["<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>"],"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"customdata":[null,0.0526136695077292,0.105494065670171,8.81907891684146e-05,0.105397264470136,0.0254272158542217,-0.00200633839148983,-0.0542513211015197,-0.100966106033065,-0.0393844787901889,-0.0420741723051886,-0.0587569021662182,-0.044134688238178,-0.0991408954736732,0.102171268859501,0.0907041724388927,0.065675320761216,0.0437854462630863,-0.0553413231017848,-0.0300548547195033,0.023456105610561,0.0182646517075387,-0.024498750994391,0.0176239598591331,0.0533139371666285,-0.0213364993215739,0.0111905009482216,0.0401876435360424,-0.0140426693782246,-0.0169976270166778,-0.0228675788440894,0.0389068115502576,0.106133971291866,-0.0544635828048897,0.0257833122132203,-0.0332074192670821,0.0324059765385343,0.0161479138182175,-0.00240963855421665,0.0621055044254025,0.0586565516554478,0.0030929532411327,-0.0142759442718407,-0.00342938247327865,0.00337753165690013,0.00625257715608854,-0.072547312179611,-0.0986868098954461,-0.0516516459896679,0.0276101673012117,0.0896400949944137,0.103057501265081,0.0243542227534114,-0.0491375009330155,0.00808534020814499,-0.0425204918032786,-0.00911289459604063,0.0158620451325292,-0.0110261600217718,-0.0159862409975276,-0.00807054186675523,-0.0380467820800847,-0.0740384571352684,-0.164753591652036,-0.00214931523882273,0.100244469761701,0.0484031021130179,0.000267493839925653,0.00740039804781701,-0.0158049497672139,-0.0268838955973277,0.0340122275583795,0.0691582040311357,0.0688649315834641,0.117114516281818,0.0199917626346648,0.0418324406281793,0.0220731846335068,0.0248234992322823,0.00650085613953589,0.00320780831002603,0.0365131602583907,0.0279721734066781,-0.0215327864153947,0.000796043903027333,0.0535197785245991,0.197869649201364,-0.0100873399381717,0.0784449920342224,0.0993707541238351,-0.0771605655806687,-0.121825812692718,-0.0564411792548904,0.0307037012264454],"text":["Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)","Gasoline (all types)"],"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01"],"y":[100,105.261366950773,116.36581650841,116.3760789016,128.641799267589,131.912802065442,131.648140346329,124.506054811982,111.935163280077,107.526655215996,103.002560197038,96.9504488446706,92.6715710103596,83.4840284754405,92.013697594279,100.359723887611,106.950880945436,111.633772995863,105.455812295427,102.286353177561,104.685592680213,106.597638569314,103.986129565415,105.818776938782,111.460392563546,109.082217973231,110.302902636895,114.735716369057,113.124520638213,111.201672229964,108.658759222651,112.886325091011,124.867399077465,118.066673148178,121.110823043934,117.089045165333,120.88343001588,122.835445225827,122.539456201186,130.149830940575,137.783971222089,138.210130602456,136.237050480172,135.769841527044,136.228408464854,137.080187099632,127.135387972475,114.588802108652,108.670101867756,111.670501560964,121.680655928963,134.220760281298,137.489602575321,130.733707100496,131.790733599075,126.186926791328,125.03699862808,127.020341143555,125.619794536086,123.611606226572,122.613993583304,117.948925689471,109.21616921066,91.2224130667272,91.0263473442007,100.151235268065,104.99886573549,105.026952285273,105.804193537933,104.131963573905,101.33249073684,104.779034470839,112.025364314958,119.739983364121,133.763273595402,136.437437210357,142.144948201921,145.282539888302,148.888960905683,149.856866621296,150.337578723358,155.826878828143,160.185695304145,156.736450940359,156.861220036513,165.256397791965,197.955623251342,195.958777586933,211.330762333776,232.330859556449,214.40407903123,188.284127858617,177.657149647298,183.11188169081],"type":"scatter","mode":"markers+lines","name":"Gasoline (all types)","line":{"color":"rgba(44,160,44,1)","width":2.5},"marker":{"color":"rgba(44,160,44,1)","opacity":0.5,"line":{"color":"rgba(44,160,44,1)"}},"hovertemplate":["<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>","<b>%{text}<\/b><br>Value: %{y:.1f}<br>% Change from Prev Update: %{customdata:.1%}<extra><\/extra>"],"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="takeaways-lessons-learned" class="section level2" number="17.3">
<h2>
<span class="header-section-number">17.3</span> Takeaways / Lessons Learned<a class="anchor" aria-label="anchor" href="#takeaways-lessons-learned"><i class="fas fa-link"></i></a>
</h2>
<p>From this figure, based on the latest OCT-22 values published in NOV-22 retrospectively, it seems gasoline has been the most volatile commodity in the past 5 years, even doubling in average price in 2022 when compared to the baseline of JAN-2015. In OCT-2022, Milk and eggs have increased in price 15% and 28%, respectively, from JAN-2015 and gasoline is 83% more expensive, on average, than it was in JAN-2015. However, in the most recent update, eggs have experienced the highest monthly inflation, increasing 10.1% from the last month. This figure paints a clearer picture of inflation for the average consumer and can be customized with any combination of commodities.</p>
<p>Overall this project was an interesting exercise in creating a reproducible web scraping and visualization workflow, and providing additional visualization functionality that did not previously exist (viewing multiple scaled commodities on the same axis to compare relative inflation). I learned a great deal about webpage layout and types of interactive .html elements, web scraping syntax with the <em>RSelenium</em> package, timeseries and the Date type, and <em>plotly</em> syntax. To reproduce any of this workflow, simply use the functions and loops created in this file. Make sure to un-comment the web scraping loop and change the chromedriver parameter to your machine’s version of Chrome! Hopefully this exercise helps the readers better understand web scraping, timeseries and interactive visualization through plotly, and provides a good resource for visualizing and understanding inflation.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="learning-echarts4r-with-shiny.html"><span class="header-section-number">16</span> Learning echarts4r with shiny</a></div>
<div class="next"><a href="introcuction-to-dygraph-for-financial-analysis.html"><span class="header-section-number">18</span> Introcuction to Dygraph for Financial Analysis</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#picturing-inflation-an-exercise-in-web-scraping-plotly-and-timeseries"><span class="header-section-number">17</span> Picturing Inflation: An Exercise in Web Scraping, Plotly and Timeseries</a></li>
<li><a class="nav-link" href="#background-goals-motivation"><span class="header-section-number">17.1</span> Background / Goals &amp; Motivation</a></li>
<li>
<a class="nav-link" href="#methods"><span class="header-section-number">17.2</span> Methods</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#creating-a-web-scraping-function"><span class="header-section-number">17.2.1</span> Creating a Web Scraping Function</a></li>
<li><a class="nav-link" href="#gathering-the-data-for-some-indices"><span class="header-section-number">17.2.2</span> Gathering the Data for Some Indices</a></li>
<li><a class="nav-link" href="#creating-interactive-visualizations"><span class="header-section-number">17.2.3</span> Creating Interactive Visualizations</a></li>
</ul>
</li>
<li><a class="nav-link" href="#takeaways-lessons-learned"><span class="header-section-number">17.3</span> Takeaways / Lessons Learned</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/jtr13/cc22mw/blob/main/inflation_web_scraping.Rmd">View source <i class="fa-solid fa-chart-scatter"></i></a></li>
          <li><a id="book-edit" href="https://github.com/jtr13/cc22mw/edit/main/inflation_web_scraping.Rmd">Edit this page <i class="fa-solid fa-chart-scatter"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Community Contributions for EDAV Fall 2022 Mon/Wed</strong>" was written by . It was last built on 2022-11-16.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
